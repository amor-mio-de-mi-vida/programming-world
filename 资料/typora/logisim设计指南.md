# logisim设计指南

## 1.对电路进行标识（label)

善用 Label 工具，没有 Label 的电路就像没有注释的代码一样，毫无可读性。

## 2. 使用适当的多路选择器（Multiplexer）

以单周期数据通路中的 ALU 为例，没有必要使用一个 16 输入的多路选择器（不要让多路选择器存在悬空的输入）。

## 3. 不要使用常量来扩展信号

不要用分线器（Splitter）和常量来扩展信号，扩展器（Bit Extender）才是简洁、易懂的选择。

![image-20220921101636511](C:\Users\W\AppData\Roaming\Typora\typora-user-images\image-20220921101636511.png)

在电路中尽量避免使用常量。

## 4. 不要将信号和它取反的结果作为多路选择器（Multiplexer）的输入

左侧的电路可以被一个异或门（XOR Gate）替代。

![image-20220921101711916](C:\Users\W\AppData\Roaming\Typora\typora-user-images\image-20220921101711916.png)

## 5. 适当使用常量

正如3中提到的，在通常情况下，你绘制的电路不应需要任何常量。两种例外的情况是：(a) 子电路需要的输入比你需要使用的多 (b) 常量能使你的电路更加简单。每当你想要向电路中添加一个常量时，思考一下能否通过使用其他门电路来优化掉这个常量。

![image-20220921101734589](C:\Users\W\AppData\Roaming\Typora\typora-user-images\image-20220921101734589.png)

上图中左右两侧的电路是等价的。

## 6. 不要将一个信号同时作为多路选择器（Multiplexer）的输入和控制

![image-20220921101821726](C:\Users\W\AppData\Roaming\Typora\typora-user-images\image-20220921101821726.png)

左侧的电路可以被一个或门（OR Gate）替换掉。

## 7. 有意义的子电路

如果一个子电路只含有一个内置器件，那么使用子电路将毫无意义，请直接将器件放置在顶层电路中。

![image-20220921101859758](C:\Users\W\AppData\Roaming\Typora\typora-user-images\image-20220921101859758.png)

上图中左右两侧的子电路都可以直接被一个内置器件代替，使用子电路毫无意义。

## 8. 学会做全面测试

请确认你提交的电路中不包含任何红色的连线，并且能够通过你自己构造的测试。如果你设计的电路使用二进制补码输入，请务必测试正、负数两种情况。

你构造的测试点至少应包括：正数+正数、正数+负数、负数+负数、负数+正数，另外不要忘记 0。

## 9. 不要拥有对外部文件绝对路径的依赖

如果你使用了外部 Logisim 库，请确保将库文件和你的电路设计一同上交，为确保万无一失，你可以在提交前将全部文件复制到一个空文件夹内，以测试电路是否能够正常打开。

## 10. 使用正确的数据流方向

在 Logisim 中，通常的数据流方向是由上至下、由左至右，虽然很多器件可以通过更改朝向来改变输入输出的方向，但多路选择器（Multiplexer）等器件的朝向是不能更改的。如果不合理安排数据流方向，那么你的电路很可能会像下图中左侧的例子一样纠结。

![image-20220921101944707](C:\Users\W\AppData\Roaming\Typora\typora-user-images\image-20220921101944707.png)

## 11. 学会编辑子电路外观

通常子电路的默认外观都非常丑陋，接口拥挤，而且没有注释，所以推荐大家尽可能自行编辑子电路外观，这里给出一个示例。

![image-20220921102006609](C:\Users\W\AppData\Roaming\Typora\typora-user-images\image-20220921102006609.png)

工具栏包含用于添加其他形状的工具，如下所示，其中包含 Shift 和 Alt 键如何修改工具行为的说明。此外，在按住 Ctrl 的情况下，单击或拖动鼠标会将鼠标位置附着到最近的网格点。

![image-20220921102029200](C:\Users\W\AppData\Roaming\Typora\typora-user-images\image-20220921102029200.png)